#  –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∏ –µ–≥–æ –º–∞–∫—Ä–æ—Å—ã –≤ –°
–ó–∞–ø–∏—Å—å —Å—Ç—Ä–∏–º–∞ –Ω–∞ Youtube: https://youtu.be/mXRbSESitaI?si=CJSh-2eMbeoNkKr1 ```2025-02-07```

## ¬´–ê —á—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞?¬ª (c) —Å–ø—Ä–∞—à–∏–≤–∞–π —Ç–∞–∫ –ª–∏—à
**–ö–æ–¥ ‚Äî —ç—Ç–æ —Ç–µ–∫—Å—Ç**

> –ê **–∏–∑ —á–µ–≥–æ** –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç?
> 
- –ß–µ—Ä–Ω–æ–≤–∏–∫
- –ë–æ–ª–≤–∞–Ω–∫–∞
- –®–∞–±–ª–æ–Ω
- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä

- –î–∞–≤–∞–π—Ç–µ –∂–µ –æ—Ç–Ω–µ—Å—ë–º—Å—è –∫ –Ω–µ–º—É –∫–∞–∫ –∫ —Ç–µ–∫—Å—Ç—É
- –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–µ–º —Å —ç—Ç–∏–º —Ç–µ–∫—Å—Ç–æ–º —á—Ç–æ-—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ
- –ü–µ—Ä–µ–æ—Ñ–æ—Ä–º–∏–º, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º, –ø–æ–¥—Å—Ç—Ä–æ–∏–º –ø–æ–¥ —É—Å–ª–æ–≤–∏—è
- –ê —É–∂–µ –ø–æ—Ç–æ–º –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å —ç—Ç–∏–º —Ç–µ–∫—Å—Ç–æ–º –ø–æ —Å—É—â–µ—Å—Ç–≤—É

–ß—Ç–æ –µ—Å–ª–∏ **–æ–±–æ–±—â–∏—Ç—å** –Ω–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∞ **—Å–∞–º—É –ø—Ä–æ–≥—Ä–∞–º–º—É**?

- –ù–∞–º –Ω—É–∂–Ω—ã —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã: –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏, –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è,‚Ä¶
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —É—Å–ª–æ–≤–∏—è ‚Äî –ø—Ä–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–±–æ—Ç—ã, –∞ –Ω–µ –ø—Ä–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## –ù–∞–º –Ω—É–∂–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

```mermaid
flowchart TB

subgraph –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä
direction TB
cpp{{–ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥}}
cc1{{–ö–æ–º–ø–∏–ª—è—Ü–∏—è}}
as_{{–ê—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ}}
ld{{–ö–æ–º–ø–æ–Ω–æ–≤–∫–∞}}
cpp --> cc1 --> as_ --> ld
end

ch([–¢–µ–∫—Å—Ç])
other_ch([–ï—â—ë —Ç–µ–∫—Å—Ç—ã])
other_o([–ï—â—ë –º–∞—à–∏–Ω–Ω—ã–µ –∫–æ–¥—ã])

true([–ß–∏—Å—Ç—ã–π –∫–æ–¥])
mcode([–ú–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥])
asscode([–ê—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥])
exe([–ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª])

ch:::main ==>|-E| cpp
ch ==>|-S| cc1
ch ==>|-c| as_
ch ==>|-v| ld

cpp:::pre -.-> true:::extra
cc1:::step -.-> asscode:::extra
as_:::step -.-> mcode:::extra
ld:::step ==> exe:::main
other_ch:::possible -.-> cpp
other_o:::possible -.-> ld

classDef pre fill:#c7642a,color:#fff,stroke:#c7642a,stroke-width:10pt;
classDef step fill:#888,color:#fff,stroke:#888,stroke-width:10pt;
classDef main fill:#979736,color:#fff,stroke:#979736,stroke-width:10pt;
classDef extra fill:#fff,stroke:#979736,stroke-width:10pt,stroke-dasharray: 3 6;
classDef possible fill:#fff,stroke:#888,stroke-width:1pt,stroke-dasharray: 3 6;

```

–ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥

**–ü–æ–¥–≥–æ–Ω–∏–º
—Ç–µ–∫—Å—Ç
–ø–æ–¥ —É—Å–ª–æ–≤–∏—è**

`*.c`  `*.h` ‚áí `*.i`

–ö–æ–º–ø–∏–ª—è—Ü–∏—è

–ü—Ä–µ–≤—Ä–∞—Ç–∏–º —Ç–µ–∫—Å—Ç –≤ –∫–æ–¥—ã –∞—Å—Å–µ–º–±–ª–µ—Ä–∞

`*.i` ‚áí `*.s`

–ê—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–µ–≤—Ä–∞—Ç–∏–º –∫–æ–¥—ã –∞—Å—Å–µ–º–±–ª–µ—Ä–∞ –≤ –º–∞—à–∏–Ω–Ω—ã–µ –∫–æ–¥—ã

`*.s` ‚áí `*.o`

–ö–æ–º–ø–æ–Ω–æ–≤–∫–∞

–°–∫–ª–µ–∏–º –∫–æ–¥—ã –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª

`*.o` ‚áí `*.out`

## –ß—Ç–æ —É–º–µ–µ—Ç –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä?

–ò—Å–ø–æ–ª–Ω—è—Ç—å —Å–≤–æ–∏ –∫–æ–º–∞–Ω–¥—ã ‚Äî **–¥–∏—Ä–µ–∫—Ç–∏–≤—ã –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞**

```c
#include <stdio.h>
```

–°–æ–∑–¥–∞–≤–∞—Ç—å ¬´—Å—Ö–µ–º—ã –∑–∞–º–µ–Ω—ã —Ç–µ–∫—Å—Ç–∞¬ª ‚Äî **–º–∞–∫—Ä–æ—Å—ã**

```c
#define LOL "–í—ã, –∫–æ–Ω–µ—á–Ω–æ, —à—É—Ç–∏—Ç–µ, –º–∏—Å—Ç–µ—Ä –§–µ–π–Ω–º–∞–Ω"
```

–ú–µ–Ω—è—Ç—å —Ç–µ–∫—Å—Ç –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ –º–∞–∫—Ä–æ—Å–æ–≤

```c
printf("%s", LOL);
```

–£–¥–∞–ª—è—Ç—å **–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** üôÇ

```c
// –ù–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞—é, –ø–æ—á–∏–Ω—è—é –ø—Ä–∏–º—É—Å
```

## –ú–∞–∫—Ä–æ—Å—ã ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π ¬´—è–∑—ã–∫¬ª –≤–Ω—É—Ç—Ä–∏ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞

```mermaid
flowchart TB

subgraph –°—Ç—Ä–æ–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
code([–°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞])
subgraph –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
include([–û–±—ã—á–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞])
define([–û–±—ä—è–≤–ª–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–∞])
end
define -.->|—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º| code
include -.->|—Å–æ–±–∏—Ä–∞–µ–º| code
end

subgraph –í—ã–∑–æ–≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞
make{{Makefile}}
gcc{{gcc}}
end

subgraph –ù–∞ —á—ë–º –ø–∏—à–µ–º
bash(–∫–æ–º–∞–Ω–¥—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)
subgraph –ë–æ–ª—å—à–æ–π C
lib(—Ä–∞–∑–Ω–æ–µ –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫)
c(—á–∏—Å—Ç—ã–π –°)
end
subgraph –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
dir(–¥–∏—Ä–µ–∫—Ç–∏–≤—ã)
macro(–º–∞–∫—Ä–æ—Å—ã)
end

bash -.-> make
end

include -.-> dir
include -.-> macro
define -.-> macro

make -.-> macro
gcc -.-> macro
code:::simple -.-> c:::simple
code -.-> lib:::simple
make -.-> define
gcc -.-> define

classDef simple fill:#979736,color:#fff;

```

Aaaaaaaaaaaa!!!!!!!!!!11–æ–¥–∏–Ω–æ–¥–∏–Ω–æ–¥–∏–Ω ‚Äî –∏–ª–∏ –Ω–µ—Ç?


## –¢–µ–ø–µ—Ä—å –∫–æ–¥ ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω –∫–æ–¥–∞

- –¢–∞–∫ –±—ã–≤–∞–µ—Ç
- `gcc -E` ‚Äî –∫–æ–¥ –ø–æ—Å–ª–µ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- `gcc -E -dM` ‚Äî —Ç–æ–ª—å–∫–æ –º–∞–∫—Ä–æ—Å—ã (–≤—Å–µ –∏ –æ—Ç–æ–≤—Å—é–¥—É!)
- –ú–∞–∫—Ä–æ—Å—ã –º–∏–º–∏–∫—Ä–∏—Ä—É—é—Ç –ø–æ–¥ –∫–æ–¥ (–∏ —ç—Ç–æ –º–Ω–æ–≥–æ–µ —É—Å–ª–æ–∂–Ω—è–µ—Ç)


HTML + JS

PHP

## –ß—Ç–æ –º—ã –º–æ–∂–µ–º –≤–Ω—É—Ç—Ä–∏ `#define`?


`(x)` ‚Äî —Å–∫–æ–±–∫–∏ –∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã


`#x` ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤


`x ## y` ‚Äî –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏–ª–∏ –¥—Ä—É–≥–∏–µ –º–∞–∫—Ä–æ—Å—ã


 `\`


–≤—ã–∑—ã–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–∞–∫—Ä–æ—Å—ã


`_Generic((x),‚Ä¶)` ‚Äî –¥–µ–ª–∞—Ç—å **—Å—Ç–∞—Ç–∏—á–Ω—ã–µ** –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (–∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥!)


**–ù–µ –º–æ–∂–µ–º –¥–∏—Ä–µ–∫—Ç–∏–≤—ã!** `~~#ifdef~~` `~~#define~~` `~~#undef~~` ‚Ä¶


> –ò –º–∞–∫—Ä–æ—Å—ã –Ω–µ–≤–∏–¥–∏–º—ã –¥–ª—è –æ—Ç–ª–∞–¥—á–∏–∫–æ–≤
> 


**–ù–µ –º–æ–∂–µ–º –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Å–º—ã—Å–ª–∞** (–ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ç. –ø.)


## –ü–æ–ª–µ–∑–Ω—ã–µ

- `__FUNCTION__` (–∏–ª–∏ `__func__`), `__TIME__`, `__DATE__`, `__FILE__`, `__LINE__`, `__MACOSX__`, `__STDC_VERSION__`, `__STDC_NO_VLA__`
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö ‚Äî —ç—Ç–æ –º–∞–∫—Ä–æ—Å—ã –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (`#undef` –Ω–µ –≤—ã–π–¥–µ—Ç)

## –ì–∏–≥–∏–µ–Ω–∞

- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –º–µ—Å—Ç–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —Å—Ç–∞–≤–∏–º –≤ —Å–∫–æ–±–∫–∏
    
    ```c
    #define DOUBLE(x) (x)*2 
    ```
    
- –û–¥–Ω–æ–≥–æ —Ä–∞–∑–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ‚Äî —ç—Ç–æ –ø—Ä–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    
    ```c
    #define SQUARE(x) do { int r = (x); r *= r; } while(0);
    ```
    
- –í–µ—Å—å —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–π —Ç–µ–∫—Å—Ç –ø—Ä—è—á–µ–º –≤ –±–ª–æ–∫–∏
- –°–ª–µ–¥–∏–º –∑–∞ `;`
- –°–ª–µ–¥—É–µ–º —Ç—Ä–∞–¥–∏—Ü–∏—è–º –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è (`E`, –∫–∞–ø—Å, `_`)
- –ü–µ—Ä–µ–¥ `#define` —Å—Ç–∞–≤–∏–º `#undef`
- –°–ª–µ–¥–∏–º –∑–∞ –∑–∞–ø—è—Ç—ã–º–∏
    
    ```c
    #define ALERT(x) printf("%s\n", #x);
    ```
    

## –†–∞–∑–º–∏–Ω–∫–∞

–ü–∏—à–µ–º –º–µ–ª–∫–∏–π –∫–æ–¥ –∏ –∑–∞–æ–¥–Ω–æ –æ–±—É—Å—Ç—Ä–∞–∏–≤–∞–µ–º—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ.

- –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å `NULL` üôÇ¬†(+ –∏—Å—Ç–æ—Ä–∏—è —Å `PI`)
- –°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –º–µ—à–æ–∫ –º–∞–∫—Ä–æ—Å–æ–≤ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, `macro.h`
- –ù–∞—É—á–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å **–≤–∞—à–∏** –º–∞–∫—Ä–æ—Å—ã
- –°–æ–∑–¥–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ü–µ–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ ¬´–í—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏¬ª (+ –≤–∞—Ä–∏–∞–Ω—Ç —Å–æ –≤–≤–æ–¥–æ–º –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)
- –ú–∞–∫—Ä–æ—Å foreach –¥–ª—è —Å—Ç—Ä–æ–∫ –∏–ª–∏ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤
- –ú–∞–∫—Ä–æ—Å –ø–æ–¥—Å—á—ë—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –¥—Ä—É–≥–∏—Ö –º–∞–∫—Ä–æ—Å–∞—Ö

## –¢–∏–ø–æ–≤—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏

- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞–∫–æ–º—ã–µ –Ω–∞–º ¬´—Ñ—É–Ω–∫—Ü–∏–∏¬ª –±–∏–±–ª–∏–æ—Ç–µ–∫ ‚Äî —ç—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –º–∞–∫—Ä–æ—Å—ã
- –£—Å–ª–æ–≤–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º—ë–Ω —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —Å —Ç–∏–ø–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –≤—ã–∑–æ–≤–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞
- –ú–∞–∫—Ä–æ—Å—ã –∏–ª–∏ `enum`? –†–µ—à–∞–π—Ç–µ, –Ω—É–∂–Ω–∞ –ª–∏ –≤–∞–º —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∞

## –•–∞–∫–∏


**–ê–≤—Ç–æ—Ä—ã –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã**, —Ä–µ—à–µ–Ω–∏—è –∏—Å–∫–∞–ª–∏ **–¥–æ–ª–≥–æ** –≤ 2000-—Ö


- –°–∫–ª–µ–π–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –¥–≤—É—Ö –º–∞–∫—Ä–æ—Å–æ–≤
    
    ```c
    #define CONCAT(x, y) x ## y
    ```
    
- –ü—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å–∞ –≤ —Å—Ç—Ä–æ–∫—É
    
    ```c
    #define STR(x) #x
    ```
    
- –ü–æ–¥—Å—á—ë—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (`##` –¥–∞—Å—Ç –∏ 0)
    
    ```c
    #define _COUNT_ARGS(_1, _2, _3, _4, _5, _6, _7, COUNT, ...) COUNT
    #define COUNT_ARGS(...) _COUNT_ARGS(__VA_ARGS__, 7, 6, 5, 4, 3, 2, 1, 0)
    
    ```
    
- –ü–æ–≤—Ç–æ—Ä—è–ª–∫–∞ –∫–æ–¥–∞ (–Ω—É, —Ç–∞–∫–æ–µ)
    
    ```c
    #define REPEAT_3(macro, data) macro(data) macro(data) macro(data)
    #define PRINT(x) printf("%s\n", x);
    
    REPEAT_3(PRINT, "Hello!")
    ```
    
- –í—ã–±—Ä–∞—Ç—å N-–π –∞—Ä–≥—É–º–µ–Ω—Ç –º–∞–∫—Ä–æ—Å–∞
    
    ```c
    #define SELECT_NTH(N, ...) SELECT_NTH_HELPER(N, __VA_ARGS__)
    #define SELECT_NTH_HELPER(N, _1, _2, _3, _4, _5, ...) _##N
    
    printf("%d\n", SELECT_NTH(3, 10, 20, 30, 40, 50)); // 30
    ```
    
- –í—ã–±—Ä–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç –º–∞–∫—Ä–æ—Å–∞
    
    ```c
    #define GET_LAST(...) GET_LAST_HELPER(__VA_ARGS__, dummy)
    #define GET_LAST_HELPER(_1, _2, _3, _4, _5, last, ...) last
    
    printf("%d\n", GET_LAST(10, 20, 30, 40, 50)); // 50
    ```
    
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å ¬´–Ω–µ—á—Ç–æ¬ª (–Ω—É —Ç–æ–∂–µ –º–∞–∫—Ä–æ—Å, –¥–∞) –∫ –∫–∞–∂–¥–æ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç—É –º–∞–∫—Ä–æ—Å–∞
    
    ```c
    #define APPLY(macro, ...) __VA_ARGS__
    #define PRINT(x) printf("%s\n", x);
    
    APPLY(PRINT, "one", "two", "three");
    ```
    
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å —á—Ç–æ —Å–∫–∞–∑–∞–Ω–æ (—Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Å –ø—É—Å—Ç—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º!)
    
    ```c
    #define CHECK(x, y) if(!(x)) { return (y); }
    ```
    
- –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏ –µ—ë –∑–Ω–∞—á–µ–Ω–∏–µ
    
    ```c
    #define TRACE(x, y) printf(#x ": %" #y, (x))
    ```
    

## –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Ä–∞–∑–Ω–æ–±–æ–π

- –ú–∞–∫—Ä–æ—Å—ã –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∫–æ–¥–∞ –∫–∞–∫ —Ç–µ–∫—Å—Ç–∞, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –Ω—ë–º
- –ú–∞–∫—Ä–æ—Å—ã –≤ —Å–≤—è–∑–∫–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (`-D`) ‚Äî –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –Ω–µ —Ç–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É!
- –î–∞–≤–∞–π—Ç–µ –≤—ã—Ç–∞—â–∏–º –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ –º–∞–∫—Ä–æ—Å–∞—Ö –∏–∑ –∫–æ–¥–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (`#define` + `grep`)
- –î–∞–≤–∞–π—Ç–µ –Ω–∞–π–¥—ë–º –≤—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —ç—Ç–æ—Ç –º–∞–∫—Ä–æ—Å
- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã –∑–Ω–∞—é—Ç –ø—Ä–æ –º–∞–∫—Ä–æ—Å—ã. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏—Ö –≤ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞
- –í–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º –Ω—É–∂–Ω—ã –Ω–µ –º–∞–∫—Ä–æ—Å—ã, –∞ —Ä–∞–∑–Ω—ã–µ —Ü–µ–ª–∏ –≤ `Makefile` –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –í —Ü–µ–ª–æ–º `#ifdef` ‚Äî —Å–∫–æ—Ä–µ–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è. –ù–∞ —ç—Ç–∞–ø–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –µ–≥–æ –Ω—É–∂–Ω–æ –∏–∑–∂–∏–≤–∞—Ç—å
- –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ: –Ω–∞–ø–∏—à–µ–º –º–∞–∫—Ä–æ—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–∞–º–∏? –¢–æ–ª—å–∫–æ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –Ω–∞–¥–æ –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å
- –ê –º–æ–∂–Ω–æ –≤—Å—ë –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å?
    
    ```bash
    echo "" | gcc -E -dM -xc -
    ```
    
    (–¥–ª—è –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ ‚Äî –¥—Ä—É–≥–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç –∫–ª—é—á–∞ `-x`; –¥–ª—è —Ñ–∞–π–ª–æ–≤ ‚Äî –ø—É—Ç—å –≤–º–µ—Å—Ç–æ `-`)
    
- –ê –≤ –º–æ–¥—É–ª–µ?
    
    ```bash
    diff <(echo "" | gcc -E -dM -xc -) <(echo "#include <math.h>" | gcc -E -dM -xc -) | grep "define [^_]"
    ```
    
- –õ—É—á—à–µ –Ω–µ –±—Ä–∞—Ç—å —Ç–µ, —á—Ç–æ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è. –≠—Ç–æ –ø–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—é –º–∞—Ä–∫–µ—Ä ¬´–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏¬ª –º–∞–∫—Ä–æ—Å–∞.
- –ú–æ–∂–Ω–æ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—å—à–æ–π –∫—É—Å–æ–∫ –∫–æ–¥–∞ –∏ –Ω–µ –ª–∏—à–∏—Ç—å—Å—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏:
    
    ```bash
    #if 0
    ...
    #endif
    ```
    
    –ù–æ –≤–Ω—É—Ç—Ä–∏ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è `#if‚Ä¶` –±–µ–∑ –æ–∫–æ–Ω—á–∞–Ω–∏—è, –∏–Ω–∞—á–µ –ø–µ—Ä–µ–ø—É—Ç–∞—é—Ç—Å—è `#endif`
    
- –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É —Ç–æ–ª—å–∫–æ –Ω–∞ –º–∞–∫—Ä–æ—Å–∞—Ö. –° –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é –æ—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –ò —Ü–µ–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –≤ `Makefile`
- –ú–∞–∫—Ä–æ—Å—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–¥–µ—Å—å ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ ¬´–º–µ—Å—Ç–æ –¥–ª—è —á–µ–≥–æ-—Ç–æ¬ª. –ü–æ —Ö–æ–¥—É —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –º–∞–∫—Ä–æ—Å–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ: ¬´–≤–æ–∑—å–º–∏ —Ç–æ, —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ —Ç—É—Ç –≤ –≤—ã–∑–æ–≤–µ, –∏ –ø–æ–¥—Å—Ç–∞–≤—å —Å—é–¥–∞¬ª. –ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º ‚Äî –Ω–∏–∫–∞–∫–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è.
- –õ–µ–≥–∫–æ –ø–µ—Ä–µ–ø—É—Ç–∞—Ç—å –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏ —Å–∏–º–≤–æ–ª, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π. –ö–∞–∫ –±—ã—Ç—å? –ù–∞–ø—Ä–∏–º–µ—Ä, `_` –≤ –Ω–∞—á–∞–ª–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –∏–ª–∏ –≤–æ–æ–±—â–µ –Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–¥–Ω–æ–±—É–∫–≤–µ–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ (–Ω—É, –ø–æ—á—Ç–∏ ‚Äî –≤—Å—ë-—Ç–∞–∫–∏ `for` –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ `i`).
- –ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ñ—É–Ω–∫—Ü–∏–π: –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç —Å–Ω–∞—á–∞–ª–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è, –∞ –ø–æ—Ç–æ–º —É–∂–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –º–∞–∫—Ä–æ—Å–æ–≤ –∞—Ä–≥—É–º–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è ¬´–∫–∞–∫ –µ—Å—Ç—å¬ª ‚Äî –≤–æ—Ç –±—É–∫–≤–∞–ª—å–Ω–æ —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ, –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤.

## –î–∏—Ä–µ–∫—Ç–∏–≤–∞ `#ifdef` –∏ –∫–∞–∫ –±–µ–∑ –Ω–µ—ë

–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –º—ã –ø–∏—à–µ–º –¥–ª—è ¬´—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã¬ª, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç-—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π. –°–æ —Å–≤–æ–∏–º–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏ –∂–µ–ª–µ–∑–∞ –∏ –Ω—é–∞–Ω—Å–∞–º–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞. –í–æ–∑–Ω–∏–∫–∞–µ—Ç –º–∏–ª–ª–∏–æ–Ω –≤–µ—Ç–≤–ª–µ–Ω–∏–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

–í—ã—Ö–æ–¥: –∫–∞–∫ –º–æ–∂–Ω–æ –¥–æ–ª—å—à–µ –∂–∏—Ç—å –≤ –ø–∞—Ä–∞–¥–∏–≥–º–µ ¬´—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã¬ª, –∞ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫—É –ø—Ä—è—Ç–∞—Ç—å –≤ —Ñ—É–Ω–∫—Ü–∏–∏, –∑–∞–Ω—è—Ç—ã–µ *—Ç–æ–ª—å–∫–æ* —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π. –ò –≤—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ç–æ–∂–µ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ —Ñ—É–Ω–∫—Ü–∏–∏.

–ù–µ –≤—ã–∑—ã–≤–∞–µ–º –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ñ–∞–π–ª–∞. –ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏. –ò–Ω–æ–≥–¥–∞ —Ç—Ä—É–¥–Ω–æ, –¥–∞. –û—Ç—Å—é–¥–∞ —ç–≤—Ä–∏—Å—Ç–∏–∫–∞: –µ—Å–ª–∏ –≤–∏–¥–∏–º –¥–∏—Ä–µ–∫—Ç–∏–≤—É –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –∫–æ–¥–∞ ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –ø–æ–≤–æ–¥ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª.

–ü—É—Å—Ç—å `#ifdef` –æ–ø–µ—Ä–∏—Ä—É—é—Ç –∫—Ä—É–ø–Ω—ã–º–∏ –∫—É—Å–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–∑–æ–≤–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏), –∞ –Ω–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç —É–ø—Ä–∞–≤–ª—è—é—â—É—é –ª–æ–≥–∏–∫—É –∫–æ–¥–∞.

–ú–æ–∂–Ω–æ –ø—Ä—è—Ç–∞—Ç—å `#ifdef` –∑–∞ –æ–±–æ–±—â–∞—é—â–∏–π –º–∞–∫—Ä–æ—Å? –ò –≤ –∫–æ–¥–µ –≤—ã–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ–≥–æ?

–û–¥–∏–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π ‚Äî –∞ —Ç—É—Ç-—Ç–æ –ø—Ä–∏ —á—ë–º `#ifdef`?

–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã –≤—Å–µ `#ifdef` –±—ã–ª–∏ –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ –∞–±—Å—Ç—Ä–∞—Ü–∏–∏ ‚Äî –∏ —á—Ç–æ–±—ã —ç—Ç–æ—Ç —É—Ä–æ–≤–µ–Ω—å –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–ø–∏—Å–∞—Ç—å —Å–ª–æ–≤–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, ¬´–≤—ã–±–æ—Ä –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è¬ª –∏–ª–∏ ¬´–≤—ã–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–∫–∏¬ª –∏–ª–∏ ¬´–≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏/—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/‚Ä¶¬ª.

–≠–≤—Ä–∏—Å—Ç–∏–∫–∞ ¬´–ü–æ—Ç–æ–∫ –≤–∞–∂–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏¬ª. –ü–æ—Ç–æ–∫ –¥–æ–ª–∂–µ–Ω —Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –∏–∑ –∫–æ–¥–∞ –ª–µ–≥–∫–æ. –í —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —É–∂–µ –∏ –∫–∞—à–∏ –Ω–∞–≤–µ—Ä—Ç–µ—Ç—å.

–û–±—â–∞—è –∏–¥–µ—è ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º —Å–∏—Å—Ç–µ–º—ã –∫–∞–∫ –∫ —Ç–∏–ø–∞–º –¥–∞–Ω–Ω—ã—Ö. –ò —Ç–∞–∫ –∂–µ —Å –ø–æ–º–æ—â—å—é –º–∞–∫—Ä–æ—Å–æ–≤ ¬´–¥–æ–≤–æ–¥–∏—Ç—å¬ª –∏–º—è –≤—ã–∑—ã–≤–∞–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ –Ω—É–∂–Ω–æ–π –ø–æ–ª–Ω–æ—Ç—ã.

–ú–æ–∂–Ω–æ –¥–∞–∂–µ —Å–æ–∑–¥–∞—Ç—å API –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑ –º–∞–∫—Ä–æ—Å–æ–≤. –ß—Ç–æ–±—ã –Ω–µ –¥–æ–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—á–∞—Å—Ç–æ —ç—Ç–æ –≤—ã –∏ –µ—Å—Ç—å) –¥–æ –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
